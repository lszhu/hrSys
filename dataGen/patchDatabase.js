// 指定生成数据的原始数据目录
var path = '../hrSys/';

var db = require(path + 'routes/db');
// import static data
var staticData = require(path + 'config/dataParse');

var errId = [
    '432922197510181720',
    '432927197009101565',
    '432927197009040037',
    '431127198812190085',
    '431081199205031354',
    '432927198107155510',
    '432927197109140019',
    '431127198810234726',
    '432927196910291563',
    '432927197410140069',
    '432927198301040012',
    '432927198202160529',
    '43292719781017011X',
    '432927197907038182',
    '432927197708210023',
    '43292719620419001X',
    '432927198303273127',
    '431127198610060012',
    '431127198609060015',
    '431127199101200018',
    '431127199010192323',
    '432927197209090039',
    '431127198907290011',
    '431127198808090233',
    '432927197004270511',
    '432927197409305241',
    '432927197710200019',
    '432927197509080027',
    '431127198901170027',
    '431127198909290517',
    '432927198303150020',
    '432927197509250030',
    '432927198002270029',
    '432927197806260040',
    '432927197302230040',
    '431127198504214321',
    '431127198711154755',
    '432927197201060011',
    '431127198803186789',
    '431127197401097834',
    '431127198908140226',
    '431127198401035216',
    '431127197209187899',
    '432927197409041522',
    '43292719680815022X',
    '431127199301290214',
    '432927196804193724',
    '43112719890105021X',
    '432927196907030039',
    '432927197712135222',
    '413025198301042128',
    '432927197311154617',
    '432927197302036029',
    '431127199301080217',
    '432927197612160041',
    '432927196511270028',
    '431127198701260220',
    '431127199108110234',
    '432927198110074316',
    '431022198012033420',
    '431127196806086733',
    '431127197609231529',
    '432927198003220218',
    '432927196302100022',
    '431127198508191526',
    '431127199203200027',
    '431127198511197339',
    '431127199203150023',
    '431127199208274762',
    '432927196803290223',
    '431127196501200021',
    '43112719921230002X',
    '432924196508130017',
    '432927198111130033',
    '432927198208031584',
    '431127195803272819',
    '432927197001075227',
    '431127197208056723',
    '432927197910227347',
    '362203197810146614',
    '432927196507127026',
    '432927196806140028',
    '43292719750404342X',
    '432927197501064321',
    '432927197005300022',
    '433923197710101542',
    '431127197411150010',
    '432927197607266028',
    '431127198803216044',
    '432927197811236344',
    '432927197006240041',
    '431127197808146028',
    '432927197311031019',
    '432927196205070087',
    '432930198306059212',
    '431127198406020013',
    '432927196704230022',
    '432927198011300015',
    '432927196902276320',
    '431127199201070011',
    '432927196403300226',
    '431127198507200072',
    '432927197801033113',
    '432927197509030046',
    '432927196807270051',
    '431127198610100248',
    '431127198812190210',
    '432927197308257367',
    '431127198909110221',
    '430422196904132127',
    '431127196811124327',
    '432927197906080039',
    '432927198110200028',
    '43112719910320002X',
    '432927198308285514',
    '431126199004125646',
    '431127198906190043',
    '431127198608120039',
    '432927196301262847',
    '432927196309162816',
    '432927197608080049',
    '431127199008217851',
    '432927198304250031',
    '432927197205301919',
    '432927197608011916',
    '431127199404220219',
    '431127199302120022',
    '432927198311196328',
    '431127199009136017',
    '432927196607172027',
    '432927195803256629',
    '431127198406136024',
    '431127198505230067',
    '432927197408014717',
    '431127198512290025',
    '432927196308050097',
    '432927196905050124',
    '431127198912050020',
    '432927197105240020',
    '432927197108290015',
    '432927198311262321',
    '431126198802208425',
    '431127199407280049',
    '431127199407280022',
    '432927196909053410',
    '43112719910228003X',
    '432927195903080018',
    '431127198604050029',
    '431127198707120018',
    '432927197507040080',
    '432927197110160025',
    '431127199102230286',
    '432927196603263722',
    '432827196410276417',
    '432927197010052625',
    '432927197110060059',
    '430528197912015869',
    '43292719711125201X',
    '432927196907052641',
    '432927196310012030',
    '431127199303260035',
    '341222198703154386',
    '432927197512236045',
    '432927196601255518',
    '432927196404150071',
    '432927197104270076',
    '432927196809211522',
    '431127198906080071',
    '431127198703120037',
    '431127198412030066',
    '431127199004030029',
    '432927198312191924',
    '431127198606128141',
    '432927197207120062',
    '431127198408060238',
    '43112719880609023X',
    '432927197109150014',
    '432927197910292624',
    '431127198910203425',
    '432927198111068153',
    '431127197812106723',
    '431024198109180622',
    '432827196203114810',
    '432927196504280025',
    '432927196205050019',
    '510230197802073043',
    '431124198604235710',
    '43112719841027733X',
    '612323198603236323',
    '43011119820101227X',
    '432927197504036019',
    '432927197807144711',
    '432927197208192316',
    '432927197912010029',
    '432927196909180022',
    '431127197402216727',
    '45242819731227201X',
    '431127199510190033',
    '432927196109110069',
    '431127199510270017',
    '432927196505151057',
    '431127198207086749',
    '432927197209230142',
    '432927195812222818',
    '432927198111090019',
    '432924196908143247',
    '432927198201010051',
    '432927197508200023',
    '431127196601085526',
    '432927198106070013',
    '432927197310067837',
    '432927196910027834',
    '431127199705166770',
    '432927196807167812',
    '431127197202126743',
    '431127199105156755',
    '431127198412057816',
    '431127198612207858',
    '431127198710107850',
    '431127199006067810',
    '432927196204297837',
    '431127199202077821',
    '432826197105080627',
    '431127195909237827',
    '431127198507127813',
    '431127198601058121',
    '432927195912277816',
    '431127196504067828',
    '431127198511167818',
    '431127198911307816',
    '431127196507027813',
    '431127199211167810',
    '431127196803257824',
    '431127197609175539',
    '432927197403167810',
    '431127198208091718',
    '431127198711186722',
    '431127198608087830',
    '431127198803257815',
    '431025198912106444',
    '43112719810125672X',
    '43292719780904671X',
    '431127197008036728',
    '432927197610016740',
    '432927196811127055',
    '432927196904146730',
    '431127199004056720',
    '431127199003246725',
    '432927196607146726',
    '432927197509196759',
    '431127197804116710',
    '432926198207151115',
    '432927196207047016'
];

function checkId() {
    var regId = staticData.workRegisterId;
    for (var i = 0; i < errId.length; i++) {
        if (regId.hasOwnProperty(errId[i])) {
            console.log(errId[i]);
        }
    }
    console.log('finished.');
}
// 清空不正确的就业失业登记证号
function clearWrongWorkRegisterId() {
    var regId = staticData.workRegisterId;
    for (var i = 0; i < errId.length; i++) {
        db.update({idNumber: errId[i]}, {workRegisterId: ''}, test(i, regId));
    }
}

function updateWorkRegisterId() {
    var regId = staticData.workRegisterId;
    for (var i in regId) {
        if (!regId.hasOwnProperty(i)) {
            continue;
        }
        db.update({idNumber: i}, {workRegisterId: regId[i]}, test(i, regId));
    }
}

function test(i, regId) {
    return function(e, d) {
        console.log('id: ' + i + ', regId: ' + regId[i]);
    }
}

//checkId();

// 第一步，修正错误输入
updateWorkRegisterId();

// 第二步，删除不存在部分
clearWrongWorkRegisterId();
